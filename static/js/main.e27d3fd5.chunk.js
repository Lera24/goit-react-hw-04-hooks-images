(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={wrap:"Button_wrap__3sT4E",button:"Button_button__3uWZh"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__37KQ0",modal:"Modal_modal__23nEZ"}},13:function(e,t,a){e.exports={wrap:"Message_wrap__2iXaI",title:"Message_title__33kyp"}},15:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3_RZ4"}},17:function(e,t,a){e.exports={wrap:"Spiner_wrap__Zk1mC"}},22:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1C0cA",searchForm:"Searchbar_searchForm__1dL2M","searchForm-button":"Searchbar_searchForm-button__3ozsG","searchForm-button-label":"Searchbar_searchForm-button-label__1gqnG","searchForm-input":"Searchbar_searchForm-input__1xCrV"}},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),o=a.n(r),i=(a(22),a(14)),s=a(3),l=a(4),u=a.n(l),m=a(0);function b(e){var t=e.onSubmitForm,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:u.a.searchbar,children:Object(m.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){""!==r&&(e.preventDefault(),t(r),o(""))},children:[Object(m.jsx)("button",{type:"submit",className:u.a["searchForm-button"],children:Object(m.jsx)("span",{className:u.a["searchForm-button-label"],children:"Search"})}),Object(m.jsx)("input",{value:r,onInput:function(e){o(e.target.value)},className:u.a["searchForm-input"],type:"text",placeholder:"Search images and photos"})]})})}var j=a(9),h=a.n(j);function d(e){var t=e.webformatURL,a=e.onSelectImg,n=e.largeImageURL;return Object(m.jsx)("li",{className:h.a.imageGalleryItem,onClick:function(){return a(n)},children:Object(m.jsx)("img",{src:t,alt:"",className:h.a["imageGalleryItem-image"]})})}var f=a(15),g=a.n(f);function O(e){var t=e.images,a=e.onSelectedImg;return Object(m.jsx)("ul",{className:g.a.imageGallery,children:t.map((function(e){return Object(m.jsx)(d,{largeImageURL:e.largeImageURL,webformatURL:e.webformatURL,onSelectImg:a},e.largeImageURL)}))})}var p=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22659523-ac255ed135817256fe2f96438","&image_type=photo&orientation=horizontal&per_page=12"))},_=a(10),x=a.n(_);function v(e){var t=e.onClick;return Object(m.jsx)("div",{className:x.a.wrap,children:Object(m.jsx)("button",{type:"button",className:x.a.button,onClick:t,children:"Load more"})})}var S=a(16),y=a.n(S),I=a(17),w=a.n(I);function F(){return Object(m.jsx)("div",{className:w.a.wrap,children:Object(m.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}var N=a(11),k=a(12),G=a.n(k),C=document.querySelector("#modal-root");function L(e){var t=e.largeImg,a=e.onCloseModal;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),Object(N.a)(C),function(){window.removeEventListener("keydown",c),Object(N.b)(C)}}));var c=function(e){"Escape"===e.code&&a()};return Object(r.createPortal)(Object(m.jsx)("div",{className:G.a.overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(m.jsx)("div",{className:G.a.modal,children:Object(m.jsx)("img",{src:t,alt:"img"})})}),C)}var E=a(13),M=a.n(E);function R(e){var t=e.error;return Object(m.jsx)("div",{className:M.a.wrap,children:Object(m.jsx)("h1",{className:M.a.title,children:t||"Please, enter the correct name for your search"})})}a(44);var U="idle",B="pending",P="resolved",T="rejected",Z="openModal";function q(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)(""),h=Object(s.a)(j,2),d=h[0],f=h[1],g=Object(n.useState)(null),_=Object(s.a)(g,2),x=_[0],S=_[1],y=Object(n.useState)(U),I=Object(s.a)(y,2),w=I[0],N=I[1],k=Object(n.useState)(""),G=Object(s.a)(k,2),C=G[0],E=G[1];Object(n.useEffect)((function(){d&&p(d,a).then((function(e){return e.json()})).then((function(e){if(0===e.total)return N(T);u(e.hits),N(P)})).catch((function(e){E(e),N(T)}))}),[d]),Object(n.useEffect)((function(){1!==a&&p(d,a).then((function(e){return e.json()})).then((function(e){u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),N(P)})).catch((function(e){E(e),N(T)}))}),[a]);var M=function(e){f(e),N(B),c(1)},q=function(e){S(e),N(Z)};return w===U?Object(m.jsx)(b,{onSubmitForm:M}):w===B?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:M}),Object(m.jsx)(F,{})]}):w===P?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:M}),Object(m.jsx)(O,{images:l,onSelectedImg:q}),Object(m.jsx)(v,{onClick:function(){c((function(e){return e+1})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})]}):w===Z?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:M}),Object(m.jsx)(O,{images:l,onSelectedImg:q}),Object(m.jsx)(L,{largeImg:x,onCloseModal:function(){S(null),N(P)}})]}):w===T?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:M}),Object(m.jsx)(R,{error:C})]}):void 0}var z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root")),z()},9:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__24njx","imageGalleryItem-image":"ImageGalleryItem_imageGalleryItem-image__15oYK"}}},[[45,1,2]]]);
//# sourceMappingURL=main.e27d3fd5.chunk.js.map